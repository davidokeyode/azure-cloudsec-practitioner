
### Run from Pentest VM
1. Within the RDP session of your pentest VM, open a PowerShell console as an administrator

2. Import the MicroBurst module into your PowerShell session with the following commands:
* If you receive some error messages about AzureRm, please ignore (AzureRm is deprecated and will be removed in a future release)
```
cd "$env:SystemDrive\PentestTools\Azure\Attack\MicroBurst"
Import-Module .\MicroBurst.psm1
```

3. Use the Invoke-EnumerateAzureSubDomains function to identify potential targets that have a base name of **`azpentestenvXX`** (where XX is your student number): 
```
Invoke-EnumerateAzureSubDomains -Base azpentestenvXX
```

4. As we can see in this example, the resulting output table indicates that there are Azure platform service instances with the **`azpentestenvXX`** resource name. These targets have been pre-provisioned for you to use in this lab. They are hosted in your designated Azure subscription.
* Be careful not to target any other Azure resources that are not in your designated Azure subscription or in a subscription that does not belong to you!





### Authenticate to the Supporting Modules
```
Connect-AzAccount

Connect-AzureAD

Connect-MsolService
```

### Use the Invoke-EnumerateAzureSubDomains function to identify potential targets that have a base name of azurepentesting
```
Invoke-EnumerateAzureSubDomains -Base azurepentesting
```

